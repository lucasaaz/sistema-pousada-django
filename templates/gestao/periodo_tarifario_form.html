<!-- ========================================================================== -->
<!-- ARQUIVO: templates/gestao/periodo_tarifario_form.html                      -->
<!-- ========================================================================== -->
{% extends 'base.html' %}
{% block title %}{% if object %}Editar Período{% else %}Adicionar Período{% endif %}{% endblock %}
{% block content %}
<main class="px-md-4">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">{% if object %}Editar Período: {{ object.nome }}{% else %}Adicionar Novo Período{% endif %}</h1>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <hr>
                <div class="text-end">
                    <a href="{% url 'periodo_tarifario_list' %}" class="btn btn-secondary">Cancelar</a>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>
</main>
{% endblock %}

{% block scripts %}
{{ block.super }}
{{ form.media }}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const inicioInput = document.getElementById('{{ form.data_inicio.id_for_label }}');
    const fimInput = document.getElementById('{{ form.data_fim.id_for_label }}');

    const inicioValue = '{{ data_inicio_js|default:"" }}';
    const fimValue = '{{ data_fim_js|default:"" }}';

    if (inicioInput && inicioValue) {
        inicioInput.value = inicioValue;
    }
    if (fimInput && fimValue) {
        fimInput.value = fimValue;
    }
});
</script>
{% endblock %}